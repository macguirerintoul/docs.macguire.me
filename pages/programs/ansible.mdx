# Ansible

## Install

### macOS

```zsh
brew install ansible
pip install ansible-lint # linter, integrates with the VSCode extension
```

### Debian

```zsh
sudo apt-add-repository ppa:ansible/ansible -y
sudo apt update
sudo apt install ansible -y
```

## Usage

### Run a playbook

```zsh
ansible-playbook $PLAYBOOK_FILE -K # prompts for password for `sudo`
```

## Syntax

### Loops

```yaml
- name: Add several users
  ansible.builtin.user:
    name: "{{ item }}"
  loop:
    - testuser1
    - testuser2
```

### Conditionals

```yaml
- ansible.builtin.command: ls -a
  register: ls_output

- command: someothercommand
  when: ls_output.stdout == ""
```

## Modules

### file

```yaml
ansible.builtin.file:
  path: "~/Pictures/Screenshots"
  state: directory
  mode: "0755"
```
